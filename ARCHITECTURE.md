# ğŸ—ï¸ Architecture Diagram - CoinGecko Live API Integration

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT SIDE (Browser)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  SuggestCoins.tsx (React Component)                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ User Input:                                         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ - Min Price: $0.10                                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ - Max Price: $10                                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ - Coin Count: 5                                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ - Current Assets: ["BTC", "ETH"]                   â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚         â”‚                                                    â”‚  â”‚
â”‚  â”‚         â–¼                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ API Call via Supabase Functions                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ POST /suggest-coins                                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ + Auth Token (Bearer)                               â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                    â”‚
â”‚  Loading Spinner shows while waiting...                           â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ HTTP Request
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Supabase Edge        â”‚
                    â”‚   Functions (Deno)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND SIDE (Supabase)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  suggest-coins Edge Function (index.ts)                     â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  1. Authentication Check                                   â”‚ â”‚
â”‚  â”‚     - Verify Authorization header                          â”‚ â”‚
â”‚  â”‚     - Return 401 if missing                                â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  2. Parse Request Body                                     â”‚ â”‚
â”‚  â”‚     - Extract: minPrice, maxPrice, coinCount, etc.        â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  3. Call CoinGecko API                                     â”‚ â”‚
â”‚  â”‚     â”œâ”€ Page 1: Fetch 250 coins                            â”‚ â”‚
â”‚  â”‚     â””â”€ Page 2: Fetch if needed                            â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  4. Filter by Price Range                                  â”‚ â”‚
â”‚  â”‚     - Remove coins < minPrice                              â”‚ â”‚
â”‚  â”‚     - Remove coins > maxPrice                              â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  5. Remove Current Assets                                  â”‚ â”‚
â”‚  â”‚     - Filter out BTC, ETH, BNB (user holdings)             â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  6. Random Sample Selection                                â”‚ â”‚
â”‚  â”‚     - Use randomSample() for true randomization            â”‚ â”‚
â”‚  â”‚     - Select coinCount coins without replacement           â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  7. Transform Data                                         â”‚ â”‚
â”‚  â”‚     - Format for frontend display                          â”‚ â”‚
â”‚  â”‚     - Add market info (ATH, ATL, 24h change)              â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  8. Return Response                                        â”‚ â”‚
â”‚  â”‚     - coins: Array of selected coins                       â”‚ â”‚
â”‚  â”‚     - notes: Array of informational messages               â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ HTTP Response (JSON)
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT SIDE (Display)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Response Data                                              â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  {                                                          â”‚ â”‚
â”‚  â”‚    "coins": [                                              â”‚ â”‚
â”‚  â”‚      {                                                     â”‚ â”‚
â”‚  â”‚        "name": "Bitcoin",                                  â”‚ â”‚
â”‚  â”‚        "symbol": "BTC",                                    â”‚ â”‚
â”‚  â”‚        "price": "$43,250.50",                             â”‚ â”‚
â”‚  â”‚        "marketCap": "$850.25B",                           â”‚ â”‚
â”‚  â”‚        "growth": "5.32% (24h)",                           â”‚ â”‚
â”‚  â”‚        ... (more fields)                                  â”‚ â”‚
â”‚  â”‚      },                                                    â”‚ â”‚
â”‚  â”‚      ... (4 more coins)                                   â”‚ â”‚
â”‚  â”‚    ],                                                      â”‚ â”‚
â”‚  â”‚    "notes": [                                              â”‚ â”‚
â”‚  â”‚      "âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø± 5 Ø¹Ù…Ù„Ø§Øª Ù…Ù† CoinGecko API",             â”‚ â”‚
â”‚  â”‚      "ğŸ“Š Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ø³Ø¹Ø±ÙŠ: $0.10 - $10",                     â”‚ â”‚
â”‚  â”‚      ... (more notes)                                     â”‚ â”‚
â”‚  â”‚    ]                                                       â”‚ â”‚
â”‚  â”‚  }                                                          â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                                        â”‚
â”‚                           â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Display Results                                            â”‚ â”‚
â”‚  â”‚  - Show 5 coins in cards                                    â”‚ â”‚
â”‚  â”‚  - Display market info                                      â”‚ â”‚
â”‚  â”‚  - Show notes about the search                              â”‚ â”‚
â”‚  â”‚  - Hide loading spinner                                     â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow for Random Selection

```
START
â”‚
â”œâ”€ Get input: (minPrice=$0.10, maxPrice=$10, coinCount=5)
â”‚
â”œâ”€ Call CoinGecko API
â”‚  â”œâ”€ Page 1: Get 250 coins (sorted by market cap)
â”‚  â””â”€ Page 2: Get 250 more coins (if needed)
â”‚
â”œâ”€ Filter by Price
â”‚  â”œâ”€ Keep: coin.price >= 0.10 AND coin.price <= 10
â”‚  â””â”€ Result: ~500 coins in price range
â”‚
â”œâ”€ Remove Current Assets
â”‚  â”œâ”€ Remove: BTC, ETH (user holdings)
â”‚  â””â”€ Result: ~498 available coins
â”‚
â”œâ”€ Random Selection (randomSample function)
â”‚  â”œâ”€ Select 5 coins WITHOUT replacement
â”‚  â”œâ”€ Algorithm:
â”‚  â”‚  1. Initialize: result = [], used = new Set()
â”‚  â”‚  2. While result.length < 5:
â”‚  â”‚     a. Generate random index [0, 498]
â”‚  â”‚     b. If not used:
â”‚  â”‚        - Add index to 'used' Set
â”‚  â”‚        - Add coin to 'result'
â”‚  â”‚     c. Continue
â”‚  â””â”€ Result: [Coin1, Coin2, Coin3, Coin4, Coin5] - ALL DIFFERENT!
â”‚
â”œâ”€ Format Response
â”‚  â”œâ”€ Transform each coin object
â”‚  â””â”€ Add notes about the search
â”‚
â””â”€ Return to Frontend
   â””â”€ Display results
```

## API Integration Points

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend (SuggestCoins.tsx)                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ getSuggestions() function                              â”‚  â”‚
â”‚ â”‚ calls:                                                  â”‚  â”‚
â”‚ â”‚ supabase.functions.invoke('suggest-coins', {            â”‚  â”‚
â”‚ â”‚   body: {                                               â”‚  â”‚
â”‚ â”‚     currentAssets,                                      â”‚  â”‚
â”‚ â”‚     investmentAmount,                                   â”‚  â”‚
â”‚ â”‚     minPrice,                                           â”‚  â”‚
â”‚ â”‚     maxPrice,                                           â”‚  â”‚
â”‚ â”‚     marketCapFilter,                                    â”‚  â”‚
â”‚ â”‚     coinCount,                                          â”‚  â”‚
â”‚ â”‚     randomId  // Cache buster                           â”‚  â”‚
â”‚ â”‚   }                                                     â”‚  â”‚
â”‚ â”‚ })                                                      â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP POST
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Supabase Edge Function                                        â”‚
â”‚ /functions/suggest-coins/index.ts                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Main Handler (serve function)                          â”‚ â”‚
â”‚ â”‚ calls:                                                  â”‚ â”‚
â”‚ â”‚ fetchCoinsFromCoinGecko(minPrice, maxPrice, page)      â”‚ â”‚
â”‚ â”‚ AND                                                     â”‚ â”‚
â”‚ â”‚ randomSample(availableCoins, coinCount)                â”‚ â”‚
â”‚ â”‚                                                        â”‚ â”‚
â”‚ â”‚ Returns:                                               â”‚ â”‚
â”‚ â”‚ {coins: [...], notes: [...]}                          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ CoinGecko API   â”‚
                         â”‚ (External)      â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                          â”‚ Returns 250  â”‚
                          â”‚ coins per    â”‚
                          â”‚ request      â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Interaction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ React Component Layer                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  <SuggestCoins />                               â”‚
â”‚  â”œâ”€ State: coins, notes, isLoading              â”‚
â”‚  â”œâ”€ Input Form:                                 â”‚
â”‚  â”‚  â”œâ”€ minPrice input                          â”‚
â”‚  â”‚  â”œâ”€ maxPrice input                          â”‚
â”‚  â”‚  â”œâ”€ coinCount slider                        â”‚
â”‚  â”‚  â””â”€ Search button                           â”‚
â”‚  â”‚      â””â”€ onClick: getSuggestions()            â”‚
â”‚  â”‚                                              â”‚
â”‚  â””â”€ Results Display:                            â”‚
â”‚     â”œâ”€ [IF isLoading] Show Loading spinner      â”‚
â”‚     â”œâ”€ [IF coins.length > 0]                    â”‚
â”‚     â”‚  â”œâ”€ Show coins in cards                   â”‚
â”‚     â”‚  â””â”€ Show notes                            â”‚
â”‚     â””â”€ [ELSE] Show "No results" message         â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Request/Response Format

### Request
```json
{
  "currentAssets": ["BTC", "ETH", "BNB"],
  "investmentAmount": 1000,
  "minPrice": 0.10,
  "maxPrice": 10,
  "marketCapFilter": "all",
  "coinCount": 5,
  "randomId": "abc123def456"
}
```

### Response
```json
{
  "coins": [
    {
      "name": "Bitcoin",
      "symbol": "BTC",
      "price": "$43,250.50",
      "marketCap": "$850.25B",
      "project": "Bitcoin - Market Cap Rank: #1",
      "shariaCompliance": "Ø¨ÙŠØ§Ù†Ø§Øª Ø­ÙŠØ© Ù…Ù† CoinGecko",
      "growth": "5.32% (24h)",
      "riskLevel": "Ù…ØªÙˆØ³Ø·",
      "liquidity": "Ø¹Ø§Ù„ÙŠØ©",
      "performanceScore": 9.9,
      "investmentPercentage": 20,
      "suggestedAmount": "200.00",
      "recommendation": "Ø§Ø­ØªÙØ§Ø¸",
      "category": "Ù…Ù† CoinGecko Live",
      "valueScore": "2.5",
      "avgPrice": "43250.50",
      "team": "24h Volume: $25,000.50M",
      "partners": "ATH: $69,000.00",
      "technology": "ATL: $65.00",
      "useCase": "Rank: #1",
      "links": {
        "website": "https://www.coingecko.com/en/coins/bitcoin"
      }
    },
    ... (4 more coins)
  ],
  "notes": [
    "âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø± 5 Ø¹Ù…Ù„Ø§Øª Ù…Ù† CoinGecko API",
    "ğŸ“Š Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ø³Ø¹Ø±ÙŠ: $0.10 - $10",
    "ğŸ”„ ÙƒÙ„ Ø¨Ø­Ø« Ø¬Ø¯ÙŠØ¯ = Ø¹Ù…Ù„Ø§Øª Ù…Ø®ØªÙ„ÙØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹",
    "ğŸ’¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙˆÙ…Ø­Ø¯Ø«Ø© Ù…Ù† Ø§Ù„Ø³ÙˆÙ‚",
    "âš ï¸ Ø¨Ø­Ø« ÙˆØ§Ø³ØªØ«Ù…Ø± Ø¨Ø­ÙƒÙ…Ø©!"
  ]
}
```

## Error Handling

```
Request from Frontend
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Check Auth Header   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
      â”‚             â”‚
    YES            NO
      â”‚             â”‚
      â”‚             â–¼
      â”‚      Return 401 Error
      â”‚      "Unauthorized"
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Parse Request Body   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
      â”‚             â”‚
    VALID        INVALID
      â”‚             â”‚
      â”‚             â–¼
      â”‚      Return 400 Error
      â”‚      "Invalid parameters"
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Call CoinGecko API           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
      â”‚             â”‚
    SUCCESS      FAILURE
      â”‚             â”‚
      â”‚             â–¼
      â”‚      Return 500 Error
      â”‚      "API Error: ..."
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Filter & Process Data        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
      â”‚             â”‚
    SUCCESS      FAILURE
      â”‚             â”‚
      â”‚             â–¼
      â”‚      Return 500 Error
      â”‚      "Processing Error: ..."
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return 200 OK with Coins     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Last Updated:** 2024  
**Architecture Version:** 1.0 - CoinGecko Live API Integration
